<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malware Kv√≠z: L√©p√©senk√©nt</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            width: 100%;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
        h1 {
            color: #007bff;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .question-area {
            min-height: 350px; /* Megakad√°lyozza az elrendez√©s ugr√°l√°s√°t */
        }
        .situation {
            font-style: italic;
            margin-bottom: 20px;
            padding: 15px;
            border-left: 5px solid #ffc107;
            background-color: #fffbe6;
            font-size: 1.1em;
            line-height: 1.5;
        }
        .question-text {
            font-weight: bold;
            margin-top: 15px;
            color: #007bff;
            font-size: 1.15em;
        }
        .options button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background-color: #e9ecef;
            color: #333;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.2s, box-shadow 0.2s;
            font-size: 1em;
        }
        .options button:hover:not(:disabled) {
            background-color: #dee2e6;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }
        .correct-feedback {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .wrong-feedback {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        #nextBtn {
            display: none;
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }
        #nextBtn:hover {
            background-color: #218838;
        }
        #results {
            margin-top: 30px;
            padding: 25px;
            border: 3px solid #007bff;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            background-color: #e6f0ff;
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üõ°Ô∏è Malware T√≠pus Felismer√©s Kv√≠z üíæ</h1>
    <div id="questionArea" class="question-area">
        </div>
    <button id="nextBtn" onclick="nextQuestion()">K√∂vetkez≈ë K√©rd√©s / Eredm√©ny</button>
    <div id="results"></div>
</div>

<script>
    // A k√©rd√©sek adatait egyetlen list√°ban t√°roljuk, felbontva az eredeti strukt√∫r√°t
    // Minden elem egy k√ºl√∂n "k√©rd√©s-egys√©g" lesz (szitu√°ci√≥ + a/b k√©rd√©sek)

    const fullQuizData = [
        // 1. Kv√≠zk√©rd√©s: Zsarol√°s √©s Titkos√≠t√°s
        {
            type: 'situational',
            situation: "Egy kedd reggel bekapcsolom a sz√°m√≠t√≥g√©pemet, de a megszokott asztal helyett egy v√∂r√∂s k√©perny≈ë fogad. Rajta egy √ºzenet, ami azt √°ll√≠tja, hogy az √∂sszes dokumentumom, k√©pem √©s vide√≥m titkos√≠tva lett, √©s soha t√∂bb√© nem f√©rhetek hozz√°juk. Egy Bitcoint k√∂vetelnek.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Spyware (K√©mszoftver)", "Ransomware (Zsarol√≥v√≠rus)", "Adware (Rekl√°mszoftver)", "Trojan Horse (Tr√≥jai)"],
                    answer: "Ransomware (Zsarol√≥v√≠rus)"
                },
                {
                    text: "Mi a legf≈ëbb c√©lja ennek a t√°mad√≥nak?",
                    options: ["Titkos adatok gy≈±jt√©se.", "H√°l√≥zati hozz√°f√©r√©s biztos√≠t√°sa.", "P√©nz√ºgyi haszonszerz√©s k√©nyszer√≠t√©s √∫tj√°n.", "Weboldalak el√°raszt√°sa rekl√°mokkal."],
                    answer: "P√©nz√ºgyi haszonszerz√©s k√©nyszer√≠t√©s √∫tj√°n."
                }
            ]
        },
        // 2. Kv√≠zk√©rd√©s: Lopakod√°s √©s H√°ts√≥ Kapu
        {
            type: 'situational',
            situation: "Valaki megpr√≥b√°lt √°tutal√°st ind√≠tani a sz√°ml√°mr√≥l egy m√°sik orsz√°gba. Soha nem t√∂lt√∂ttem le semmit, csak egy szoftver 'felt√∂rt' verzi√≥j√°t telep√≠tettem.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["V√≠rus", "Worm (F√©reg)", "Trojan Horse (Tr√≥jai)", "Keylogger (Billenty≈±zetfigyel≈ë)"],
                    answer: "Trojan Horse (Tr√≥jai)"
                },
                {
                    text: "Mi a legjellemz≈ëbb terjed√©si m√≥dja ennek a t√≠pusnak?",
                    options: ["H√°l√≥zati automatikus terjed√©s.", "√Ålc√°zott, hasznosnak t≈±n≈ë programba rejtve.", "Kiz√°r√≥lag adathordoz√≥k seg√≠ts√©g√©vel.", "Weboldalak felt√∂r√©s√©vel."],
                    answer: "√Ålc√°zott, hasznosnak t≈±n≈ë programba rejtve."
                }
            ]
        },
        // 3. Kv√≠zk√©rd√©s: √ñn√°ll√≥ Terjed√©s
        {
            type: 'situational',
            situation: "A k√°rt√©kony program √∂n√°ll√≥an m√°solja mag√°t az √∂sszes h√°l√≥zatra csatlakoz√≥ sz√°m√≠t√≥g√©pre an√©lk√ºl, hogy b√°rmilyen felhaszn√°l√≥i beavatkoz√°sra sz√ºks√©g lenne. A terjed√©se exponenci√°lis, az eg√©sz h√°l√≥zat elkezdett elk√©peszt≈ë sebess√©ggel lelassulni.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Rootkit", "Adware", "Worm (F√©reg)", "Backdoor"],
                    answer: "Worm (F√©reg)"
                },
                {
                    text: "Mi a f≈ë k√ºl√∂nbs√©g k√∂zte √©s egy 'klasszikus' v√≠rus k√∂z√∂tt?",
                    options: ["A v√≠rus lopja a p√©nzt, ez nem.", "Ez √∂n√°ll√≥an, gazdaprogram n√©lk√ºl terjed a h√°l√≥zaton; a v√≠rus gazdaprogramhoz k√∂t√∂tt.", "Ez titkos√≠tja a f√°jlokat, a v√≠rus nem.", "A f√©reg csak Linuxon fut, a v√≠rus csak Windows-on."],
                    answer: "Ez √∂n√°ll√≥an, gazdaprogram n√©lk√ºl terjed a h√°l√≥zaton; a v√≠rus gazdaprogramhoz k√∂t√∂tt."
                }
            ]
        },
        // 4. Kv√≠zk√©rd√©s: K√©mked√©s √©s Adatgy≈±jt√©s
        {
            type: 'situational',
            situation: "Valaki l√°that√≥an figyeli a b√∂ng√©sz√©si szok√°saimat, √©s r√∂gz√≠ti a be√≠rt jelszavaimat a regisztr√°ci√≥s oldalakon. Rendszeresen megjelennek felugr√≥ ablakok is.",
            questions: [
                {
                    text: "Melyik malware t√≠pus felel a felhaszn√°l√≥i aktivit√°s figyel√©s√©√©rt?",
                    options: ["Adware", "Spyware (K√©mszoftver)", "Botnet", "Zsarol√≥v√≠rus"],
                    answer: "Spyware (K√©mszoftver)"
                },
                {
                    text: "Mi a leggyakoribb m√≥dja annak, hogy ez a t√≠pus telep√ºl a g√©pre?",
                    options: ["A Windows friss√≠t√©se.", "Egy ingyenes programmal, vagy torrent let√∂lt√©ssel egy√ºtt, rejtett kieg√©sz√≠t≈ëk√©nt.", "Egy felt√∂rt weboldal megl√°togat√°s√°val.", "Telefonh√≠v√°ssal."],
                    answer: "Egy ingyenes programmal, vagy torrent let√∂lt√©ssel egy√ºtt, rejtett kieg√©sz√≠t≈ëk√©nt."
                }
            ]
        },
        // 5. Kv√≠zk√©rd√©s: L√°thatatlan K√°rokoz√°s
        {
            type: 'situational',
            situation: "Let√∂lt√∂ttem egy ingyenes programot, ami t√∂k√©letesen m≈±k√∂dik, de a h√°tt√©rben spam e-mailek t√≠zezreit k√ºldi sz√©t a nevemben, √©s k√∂zben a g√©pen kereszt√ºl DDoS t√°mad√°st hajt v√©gre egy szerver ellen. A g√©pem most egy 'zombihadsereg' r√©sze lett.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥, ami t√°voli ir√°ny√≠t√°s alatt k√°ros m≈±veleteket hajt v√©gre?",
                    options: ["V√≠rus", "Adware", "Bot (Botnet tagja)", "Ransomware"],
                    answer: "Bot (Botnet tagja)"
                },
                {
                    text: "Mi a f≈ë c√©lja annak a t√°mad√≥nak, aki ezt a 'zombi g√©pekb≈ël' √°ll√≥ h√°l√≥zatot ir√°ny√≠tja?",
                    options: ["Egy√©ni felhaszn√°l√≥k titkos√≠t√°s√°√©rt fizetni.", "Nagyobb volumen≈± t√°mad√°sok, spamek k√ºld√©se vagy DDoS t√°mad√°sok v√©grehajt√°sa.", "Kiz√°r√≥lag a g√©p fizikai t√∂nkret√©tele.", "Az √°ldozat webkamer√°j√°nak aktiv√°l√°sa."],
                    answer: "Nagyobb volumen≈± t√°mad√°sok, spamek k√ºld√©se vagy DDoS t√°mad√°sok v√©grehajt√°sa."
                }
            ]
        },
        // 6. Kv√≠zk√©rd√©s: L√°thatatlan Figyel≈ë (Duplik√°lt Spyware)
        {
            type: 'situational',
            situation: "Mostan√°ban lassabb a g√©pem, √©s n√©ha furcs√°n villog a webkamera. Gyan√∫s adatforgalmat √©szlel a h√°l√≥zatomon. Kider√ºlt, hogy egy program a h√°tt√©rben r√∂gz√≠ti, mit g√©pelek √©s milyen weboldalakat l√°togatok.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Worm (F√©reg)", "Spyware (K√©mszoftver)", "Adware (Rekl√°mszoftver)", "Rootkit"],
                    answer: "Spyware (K√©mszoftver)"
                },
                {
                    text: "Mi a legf≈ëbb c√©lja ennek a t√°mad√≥nak?",
                    options: ["Szem√©lyes √©s bel√©p√©si adatok ellop√°sa.", "F√°jlok titkos√≠t√°sa v√°lts√°gd√≠j√©rt.", "Sz√°m√≠t√≥g√©p megb√©n√≠t√°sa.", "Rekl√°mok megjelen√≠t√©se a b√∂ng√©sz≈ëben."],
                    answer: "Szem√©lyes √©s bel√©p√©si adatok ellop√°sa."
                }
            ]
        },
        // 7. Kv√≠zk√©rd√©s: ‚ÄûIngyen‚Äù Let√∂lt√©s (Duplik√°lt Tr√≥jai)
        {
            type: 'situational',
            situation: "Egy √∫j j√°t√©kot akartam kipr√≥b√°lni, amit egy f√≥rumban tal√°ltam. A let√∂lt√©s ut√°n a telep√≠t≈ë nagyon gyorsan lefutott, de semmilyen j√°t√©k nem indult el. Hamarosan furcsa programok jelentek meg a g√©pen, √©s az antiv√≠rus is kikapcsol√≥dott.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Trojan Horse (Tr√≥jai)", "Ransomware (Zsarol√≥v√≠rus)", "Worm (F√©reg)", "Keylogger"],
                    answer: "Trojan Horse (Tr√≥jai)"
                },
                {
                    text: "Mi jellemz≈ë erre a t√≠pusra?",
                    options: ["√ñnmag√°t terjeszti e-maileken kereszt√ºl.", "Hasznosnak t≈±nik, de val√≥j√°ban k√°rt okoz.", "Rekl√°mokat jelen√≠t meg a k√©perny≈ën.", "F√°jlokat titkos√≠t v√°lts√°gd√≠j√©rt."],
                    answer: "Hasznosnak t≈±nik, de val√≥j√°ban k√°rt okoz."
                }
            ]
        },
        // 8. Kv√≠zk√©rd√©s: B√∂ng√©sz≈ë, ami saj√°t √©letet √©l (Adware)
        {
            type: 'situational',
            situation: "Megnyitom a b√∂ng√©sz≈ëmet, √©s furcsa m√≥don a kezd≈ëlap lecser√©l≈ëd√∂tt egy ismeretlen keres≈ëre. √Ålland√≥an felugr√≥ hirdet√©sek j√∂nnek, √©s n√©ha automatikusan let√∂lt≈ëdik valami. Az internet egyre lassabb, √©s alig tudok dolgozni.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Adware (Rekl√°mszoftver)", "Worm (F√©reg)", "Spyware (K√©mszoftver)", "Trojan Horse (Tr√≥jai)"],
                    answer: "Adware (Rekl√°mszoftver)"
                },
                {
                    text: "Mi a legf≈ëbb c√©lja ennek a programnak?",
                    options: ["A felhaszn√°l√≥ adatainak ellop√°sa.", "P√©nzt keresni rekl√°mok megjelen√≠t√©s√©vel.", "F√°jlokat titkos√≠tani.", "M√°s g√©peket megfert≈ëzni a h√°l√≥zaton kereszt√ºl."],
                    answer: "P√©nzt keresni rekl√°mok megjelen√≠t√©s√©vel."
                }
            ]
        },
        // 9. Kv√≠zk√©rd√©s: √ñnm√°sol√≥ fenyeget√©s (Duplik√°lt F√©reg)
        {
            type: 'situational',
            situation: "Egy koll√©g√°m megnyitott egy furcsa e-mail csatolm√°nyt, √©s n√©h√°ny perc m√∫lva az eg√©sz irodai h√°l√≥zat belassult, a g√©pek egym√°s ut√°n fert≈ëz≈ëdtek meg.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Trojan Horse (Tr√≥jai)", "Worm (F√©reg)", "Spyware (K√©mszoftver)", "Adware (Rekl√°mszoftver)"],
                    answer: "Worm (F√©reg)"
                },
                {
                    text: "Mi a f≈ë jellemz≈ëje ennek a k√°rtev≈ënek?",
                    options: ["Emberi beavatkoz√°s n√©lk√ºl terjed a h√°l√≥zaton.", "K√©zzel telep√≠tik a felhaszn√°l√≥k.", "Csak hirdet√©seket jelen√≠t meg.", "V√°lts√°gd√≠jat k√∂vetel a f√°jlok√©rt."],
                    answer: "Emberi beavatkoz√°s n√©lk√ºl terjed a h√°l√≥zaton."
                }
            ]
        },
        // 10. Kv√≠zk√©rd√©s: M√©lyen a rendszerben (Rootkit)
        {
            type: 'situational',
            situation: "Egy v√≠rusirt√≥ sem tal√°l semmit, a g√©pem m√©gis furcs√°n viselkedik. Gyan√∫s folyamatok futnak. √ögy t≈±nik, valami a h√°tt√©rben teljes ir√°ny√≠t√°st szerzett a g√©p felett, l√°thatatlanul.",
            questions: [
                {
                    text: "Melyik malware t√≠pusr√≥l van sz√≥?",
                    options: ["Rootkit", "Spyware", "Ransomware", "Adware"],
                    answer: "Rootkit"
                },
                {
                    text: "Mi teszi ezt a t√≠pust k√ºl√∂n√∂sen vesz√©lyess√©?",
                    options: ["Neh√©z √©szrevenni, mert m√©lyen a rendszerben rejt≈ëzik.", "Csak rekl√°mokat mutat.", "Nem tud terjedni m√°s g√©pekre.", "K√∂nnyen elt√°vol√≠that√≥ √∫jraind√≠t√°ssal."],
                    answer: "Neh√©z √©szrevenni, mert m√©lyen a rendszerben rejt≈ëzik."
                }
            ]
        }
    ];
    
    // A k√©rd√©seket egyetlen lapos list√°v√° alak√≠tjuk, hogy a l√©p√©senk√©nti halad√°s egyszer≈±bb legyen.
    // √çgy minden A) √©s B) k√©rd√©s k√ºl√∂n√°ll√≥ egys√©g lesz.
    const flattenedQuiz = [];
    fullQuizData.forEach((section, sectionIndex) => {
        section.questions.forEach((q, qIndex) => {
            flattenedQuiz.push({
                sectionIndex: sectionIndex,
                qIndex: qIndex,
                situation: section.situation,
                text: q.text,
                options: q.options,
                answer: q.answer
            });
        });
    });

    let currentQuestionIndex = 0;
    let score = 0;
    let answeredCorrectly = false;
    let isWaitingForNext = false; // Azt jelzi, hogy a v√°lasz megt√∂rt√©nt, √©s a k√∂vetkez≈ë l√©p√©s gomb v√°r

    function renderQuestion() {
        const qa = document.getElementById('questionArea');
        const nextBtn = document.getElementById('nextBtn');
        const qData = flattenedQuiz[currentQuestionIndex];

        if (!qData) {
            // Ha v√©ge a kv√≠znek
            showResults();
            return;
        }

        const questionNumber = Math.floor(currentQuestionIndex / 2) + 1; // Szitu√°ci√≥ sorsz√°ma
        const subQuestionLetter = currentQuestionIndex % 2 === 0 ? 'A' : 'B'; // A vagy B k√©rd√©s

        qa.innerHTML = `
            <h3>${questionNumber}. Szitu√°ci√≥</h3>
            <div class="situation">"${qData.situation}"</div>
            <div class="question-text">${subQuestionLetter}) ${qData.text}</div>
            <div class="options" id="optionsContainer">
                ${qData.options.map((option, index) => `
                    <button onclick="checkAnswer(this, '${option.replace(/'/g, "\\'")}')" data-answer="${option}">${String.fromCharCode(65 + index)}) ${option}</button>
                `).join('')}
            </div>
            <div id="feedbackContainer" class="feedback"></div>
        `;
        
        // Gomb be√°ll√≠t√°s
        nextBtn.style.display = 'none';
        nextBtn.innerText = currentQuestionIndex < flattenedQuiz.length - 1 ? 'K√∂vetkez≈ë K√©rd√©s' : 'Eredm√©ny Megjelen√≠t√©se';
        isWaitingForNext = false;
        answeredCorrectly = false;
    }

    function checkAnswer(button, selectedAnswer) {
        if (isWaitingForNext) return; 

        const optionsContainer = document.getElementById('optionsContainer');
        const feedbackContainer = document.getElementById('feedbackContainer');
        const qData = flattenedQuiz[currentQuestionIndex];
        const isCorrect = selectedAnswer === qData.answer;

        // Gombok letilt√°sa
        Array.from(optionsContainer.children).forEach(btn => {
            btn.disabled = true;
            if (btn.innerText.includes(qData.answer)) {
                btn.classList.add('correct-feedback'); // Helyes v√°lasz kiemel√©se
            }
        });

        // Visszajelz√©s
        feedbackContainer.style.display = 'block';
        if (isCorrect) {
            score++;
            answeredCorrectly = true;
            feedbackContainer.className = 'feedback correct-feedback';
            feedbackContainer.innerHTML = 'Helyes v√°lasz! ‚úÖ';
        } else {
            feedbackContainer.className = 'feedback wrong-feedback';
            feedbackContainer.innerHTML = `Helytelen v√°lasz. ‚ùå A helyes v√°lasz: **${qData.answer}**`;
        }

        // Kiv√°lasztott gomb kiemel√©se
        button.classList.add(isCorrect ? 'correct-feedback' : 'wrong-feedback');
        
        isWaitingForNext = true;
        document.getElementById('nextBtn').style.display = 'block';
    }

    function nextQuestion() {
        currentQuestionIndex++;
        renderQuestion();
    }

    function showResults() {
        const qa = document.getElementById('questionArea');
        const nextBtn = document.getElementById('nextBtn');
        const resultsDiv = document.getElementById('results');

        qa.style.display = 'none';
        nextBtn.style.display = 'none';

        const totalQuestions = flattenedQuiz.length;
        const percentage = (score / totalQuestions) * 100;
        let message = '';

        if (percentage >= 90) {
            message = "Kiv√°l√≥! Profi szinten ismered a malware t√≠pusokat! üèÜ";
        } else if (percentage >= 70) {
            message = "Nagyon j√≥ eredm√©ny! Megvan az alapvet≈ë tud√°s, p√°r ter√ºletre √©rdemes m√©g r√°n√©zni. üëç";
        } else if (percentage >= 50) {
            message = "J√≥ eredm√©ny. √ârdemes √°tism√©telni a tr√≥jai, f√©reg √©s rootkit k√∂z√∂tti k√ºl√∂nbs√©geket.";
        } else {
            message = "Folytasd a tanul√°st! L√°tv√°nyos a fejl≈ëd√©s, ha meg√©rted a szitu√°ci√≥k m√∂g√∂tti logik√°t. üßê";
        }

        resultsDiv.innerHTML = `
            <h2>Kv√≠z Eredm√©ny</h2>
            <p>Pontsz√°m: ${score} / ${totalQuestions}</p>
            <p>Teljes√≠tm√©ny: ${percentage.toFixed(0)}%</p>
            <p>${message}</p>
        `;
        resultsDiv.style.display = 'block';

        resultsDiv.scrollIntoView({ behavior: 'smooth' });
    }

    // A kv√≠z ind√≠t√°sa az oldal bet√∂lt√©sekor
    window.onload = renderQuestion;
</script>

</body>
</html>